@inherits R_Page
@attribute [R_Page(Title = "Invoice Item")]
@using APT00100COMMON.DTOs.APT00111
@using APT00100MODEL

<R_StackLayout Row>
    <R_ItemLayout col="7">
        <R_StackLayout Row>
            <R_ItemLayout col="2">
                <R_Label>Property</R_Label>
            </R_ItemLayout>
            <R_ItemLayout col="5" Class="me-1">
                <R_TextBox @bind-Value="@loInvoiceItemViewModel.loHeader.CPROPERTY_NAME"
                           R_ConductorGridSource="@_conductorInvoiceItemRef"
                           Enabled="false">
                </R_TextBox>
            </R_ItemLayout>
            <R_ItemLayout col="2">
                <R_Label>Ref. No.</R_Label>
            </R_ItemLayout>

            <R_ItemLayout col="3" Class="pe-3">
                <R_TextBox @bind-Value="@loInvoiceItemViewModel.loHeader.CREF_NO"
                           R_ConductorGridSource="@_conductorInvoiceItemRef"
                           Enabled="false">
                </R_TextBox>
            </R_ItemLayout>
        </R_StackLayout>
        
        <R_StackLayout Row>
            <R_ItemLayout col="2">
                <R_Label>Department</R_Label>
            </R_ItemLayout>
            <R_ItemLayout col="2">
                <R_TextBox @bind-Value="@loInvoiceItemViewModel.loHeader.CDEPT_CODE"
                           R_ConductorGridSource="@_conductorInvoiceItemRef"
                           Enabled="false">
                </R_TextBox>
            </R_ItemLayout>
            <R_ItemLayout col="3" Class="pe-1">
                <R_TextBox @bind-Value="@loInvoiceItemViewModel.loHeader.CDEPT_NAME"
                           R_ConductorGridSource="@_conductorInvoiceItemRef"
                           Enabled="false">
                </R_TextBox>
            </R_ItemLayout>
            <R_ItemLayout col="2">
                <R_Label>Ref. Date</R_Label>
            </R_ItemLayout>

            <R_ItemLayout col="3" Class="pe-3">
                <R_DatePicker @bind-Value="@loInvoiceItemViewModel.loHeader.DREF_DATE"
                           R_ConductorGridSource="@_conductorInvoiceItemRef"
                           Enabled="false">
                </R_DatePicker>
            </R_ItemLayout>
        </R_StackLayout>

        <R_StackLayout Row>
            <R_ItemLayout col="2">
                <R_Label>Supplier</R_Label>
            </R_ItemLayout>
            <R_ItemLayout col="2">
                <R_TextBox @bind-Value="@loInvoiceItemViewModel.loHeader.CSUPPLIER_ID"
                           R_ConductorGridSource="@_conductorInvoiceItemRef"
                           Enabled="false">
                </R_TextBox>
            </R_ItemLayout>
            <R_ItemLayout col="5">
                <R_TextBox @bind-Value="@loInvoiceItemViewModel.loHeader.CSUPPLIER_NAME"
                           R_ConductorGridSource="@_conductorInvoiceItemRef"
                           Enabled="false">
                </R_TextBox>
            </R_ItemLayout>
            <R_ItemLayout col="3" Class="pe-3 ps-1">
                <R_TextBox @bind-Value="@loInvoiceItemViewModel.loHeader.CSUPPLIER_SEQ_NO"
                              R_ConductorGridSource="@_conductorInvoiceItemRef"
                              Enabled="false">
                </R_TextBox>
            </R_ItemLayout>
        </R_StackLayout>
    </R_ItemLayout>
    <R_ItemLayout col="5">
        <R_StackLayout Row>
            <R_ItemLayout col="3">
                <R_Label>Currency</R_Label>
            </R_ItemLayout>
            <R_ItemLayout col="2">
                <R_TextBox @bind-Value="@loInvoiceItemViewModel.loHeader.CCURRENCY_CODE"
                           R_ConductorGridSource="@_conductorInvoiceItemRef"
                           Enabled="false">
                </R_TextBox>
            </R_ItemLayout>
            <R_ItemLayout col="7" Class="pe-3">
                <R_TextBox @bind-Value="@loInvoiceItemViewModel.loHeader.CCURRENCY_NAME"
                           R_ConductorGridSource="@_conductorInvoiceItemRef"
                           Enabled="false">
                </R_TextBox>
            </R_ItemLayout>
        </R_StackLayout>
        <R_StackLayout Row>
            <R_ItemLayout col="3">
                <R_Label>Local Currency</R_Label>
            </R_ItemLayout>
            <R_ItemLayout Style="width:95px">
                <R_NumericTextBox @bind-Value="@loInvoiceItemViewModel.loHeader.NLBASE_RATE"
                           R_ConductorGridSource="@_conductorInvoiceItemRef"
                           Arrows="false"
                           Enabled="false">
                </R_NumericTextBox>
            </R_ItemLayout>
            <R_ItemLayout Style="width:60px">
                <R_TextBox @bind-Value="@loInvoiceItemViewModel.loHeader.CCURRENCY_CODE"
                           R_ConductorGridSource="@_conductorInvoiceItemRef"
                           Enabled="false">
                </R_TextBox>
            </R_ItemLayout>
            <R_ItemLayout Style="width: 10px">
                <R_Label>=</R_Label>
            </R_ItemLayout>
            <R_ItemLayout Style="width:95px">
                <R_NumericTextBox @bind-Value="@loInvoiceItemViewModel.loHeader.NLCURRENCY_RATE"
                                  R_ConductorGridSource="@_conductorInvoiceItemRef"
                                  Arrows="false"
                           Enabled="false">
                </R_NumericTextBox>
            </R_ItemLayout>
            <R_ItemLayout Style="width:60px">
                <R_TextBox @bind-Value="@loInvoiceItemViewModel.loHeader.CLOCAL_CURRENCY_CODE"
                           R_ConductorGridSource="@_conductorInvoiceItemRef"
                           Enabled="false">
                </R_TextBox>
            </R_ItemLayout>
        </R_StackLayout>
        <R_StackLayout Row>
            <R_ItemLayout col="3">
                <R_Label>Tax Rate</R_Label>
            </R_ItemLayout>
            <R_ItemLayout Style="width:95px">
                <R_NumericTextBox @bind-Value="@loInvoiceItemViewModel.loHeader.NTAX_BASE_RATE"
                                  R_ConductorGridSource="@_conductorInvoiceItemRef"
                                  Arrows="false"
                                  Enabled="false">
                </R_NumericTextBox>
            </R_ItemLayout>
            <R_ItemLayout Style="width:60px">
                <R_TextBox @bind-Value="@loInvoiceItemViewModel.loHeader.CCURRENCY_CODE"
                           R_ConductorGridSource="@_conductorInvoiceItemRef"
                           Enabled="false">
                </R_TextBox>
            </R_ItemLayout>
            <R_ItemLayout Style="width: 10px">
                <R_Label>=</R_Label>
            </R_ItemLayout>
            <R_ItemLayout Style="width:95px">
                <R_NumericTextBox @bind-Value="@loInvoiceItemViewModel.loHeader.NTAX_CURRENCY_RATE"
                                  R_ConductorGridSource="@_conductorInvoiceItemRef"
                                  Arrows="false"
                                  Enabled="false">
                </R_NumericTextBox>
            </R_ItemLayout>
            <R_ItemLayout Style="width:60px">
                <R_TextBox @bind-Value="@loInvoiceItemViewModel.loHeader.CLOCAL_CURRENCY_CODE"
                           R_ConductorGridSource="@_conductorInvoiceItemRef"
                           Enabled="false">
                </R_TextBox>
            </R_ItemLayout>
        </R_StackLayout>
    </R_ItemLayout>
</R_StackLayout>

<R_StackLayout Row>
    <R_ItemLayout col="12">
        <R_Grid @ref="@_gridInvoiceItemRef"
                DataSource="@loInvoiceItemViewModel.loInvoiceItemList"
                Pageable="true"
                R_ConductorGridSource="@_conductorInvoiceItemRef"
                R_GridType="@R_eGridType.Original"
                AllowAddNewRow="false"
                AllowEditRow="false"
                AllowDeleteRow="false"
                Height="300px"
                R_ServiceGetListRecord="@Grid_InvoiceItem_R_ServiceGetListRecord">
            <R_GridColumns>
                <R_GridTextColumn FieldName=@nameof(APT00111ListDTO.CSEQ_NO) HeaderText="Seq No." Width="150px"></R_GridTextColumn>
                <R_GridTextColumn FieldName=@nameof(APT00111ListDTO.CPROD_TYPE_NAME) HeaderText="Type" Width="150px"></R_GridTextColumn>
                <R_GridTextColumn FieldName="@nameof(APT00111ListDTO.CSUP_PRODUCT_ID)" HeaderText="Supplier Product ID" Width="150px"></R_GridTextColumn>
                <R_GridTextColumn FieldName="@nameof(APT00111ListDTO.CSUP_PRODUCT_NAME)" HeaderText="Supplier Product Name" Width="150px"></R_GridTextColumn>
                <R_GridTextColumn FieldName="@nameof(APT00111ListDTO.CBILL_UNIT)" HeaderText="Unit" Width="100px"></R_GridTextColumn>
                <R_GridNumericColumn FieldName="@nameof(APT00111ListDTO.NTRANS_QTY)" HeaderText="Qty" Width="150px"></R_GridNumericColumn>
                <R_GridNumericColumn FieldName="@nameof(APT00111ListDTO.NUNIT_PRICE)" HeaderText="Unit Price" Width="150px"></R_GridNumericColumn>
                <R_GridNumericColumn FieldName="@nameof(APT00111ListDTO.NAMOUNT)" HeaderText="Total Price" Width="200px"></R_GridNumericColumn>
                <R_GridTextColumn FieldName="@nameof(APT00111ListDTO.CUPDATE_BY)" HeaderText="Updated By" Width="150px"></R_GridTextColumn>
                <R_GridDateTimePickerColumn FieldName="@nameof(APT00111ListDTO.DUPDATE_DATE)" HeaderText="Updated Date" Width="200px"></R_GridDateTimePickerColumn>
                <R_GridTextColumn FieldName="@nameof(APT00111ListDTO.CCREATE_BY)" HeaderText="Created By" Width="150px"></R_GridTextColumn>
                <R_GridDateTimePickerColumn FieldName="@nameof(APT00111ListDTO.DCREATE_DATE)" HeaderText="Created Date" Width="200px"></R_GridDateTimePickerColumn>
            </R_GridColumns>
        </R_Grid>
    </R_ItemLayout>
</R_StackLayout>

<R_StackLayout>
    <R_StackLayout Row>
        <R_ItemLayout col="1">
            <R_Label>Product Dept.</R_Label>
        </R_ItemLayout>
        <R_ItemLayout col="1">
            <R_TextBox @bind-Value="@loInvoiceItemViewModel.loDetail.CPROD_DEPT_CODE"
                       R_ConductorGridSource="@_conductorInvoiceItemRef"
                       Enabled="false">
            </R_TextBox>
        </R_ItemLayout>
        <R_ItemLayout col="3">
            <R_TextBox @bind-Value="@loInvoiceItemViewModel.loDetail.CPROD_DEPT_NAME"
                       R_ConductorGridSource="@_conductorInvoiceItemRef"
                       Enabled="false">
            </R_TextBox>
        </R_ItemLayout>
        <R_ItemLayout Style="width:150px">
            <R_Label>Line Discount</R_Label>
        </R_ItemLayout>
        <R_ItemLayout col="2">
            <R_NumericTextBox @bind-Value="@loInvoiceItemViewModel.loDetail.NDISC_AMOUNT"
                              R_ConductorGridSource="@_conductorInvoiceItemRef"
                              Arrows="false"
                              Enabled="false">
            </R_NumericTextBox>
        </R_ItemLayout>
        <R_ItemLayout col="1">
            <R_Label>Tax</R_Label>
        </R_ItemLayout>
        <R_ItemLayout col="2">
            <R_NumericTextBox @bind-Value="@loInvoiceItemViewModel.loDetail.NTAX_AMOUNT"
                              R_ConductorGridSource="@_conductorInvoiceItemRef"
                                  Arrows="false"
                              Enabled="false">
            </R_NumericTextBox>
        </R_ItemLayout>
    </R_StackLayout>

    <R_StackLayout Row>
        <R_ItemLayout col="1">
            <R_Label>Product</R_Label>
        </R_ItemLayout>
        <R_ItemLayout col="1">
            <R_TextBox @bind-Value="@loInvoiceItemViewModel.loDetail.CPRODUCT_ID"
                       R_ConductorGridSource="@_conductorInvoiceItemRef"
                       Enabled="false">
            </R_TextBox>
        </R_ItemLayout>
        <R_ItemLayout col="3">
            <R_TextBox @bind-Value="@loInvoiceItemViewModel.loDetail.CPRODUCT_NAME"
                       R_ConductorGridSource="@_conductorInvoiceItemRef"
                       Enabled="false">
            </R_TextBox>
        </R_ItemLayout>
        <R_ItemLayout Style="width:150px">
            <R_Label>Summary Discount</R_Label>
        </R_ItemLayout>
        <R_ItemLayout col="2">
            <R_NumericTextBox @bind-Value="@loInvoiceItemViewModel.loDetail.NDIST_DISCOUNT"
                              R_ConductorGridSource="@_conductorInvoiceItemRef"
                              Arrows="false"
                              Enabled="false">
            </R_NumericTextBox>
        </R_ItemLayout>
        <R_ItemLayout col="1">
            <R_Label>Tax</R_Label>
        </R_ItemLayout>
        <R_ItemLayout col="2">
            <R_NumericTextBox @bind-Value="@loInvoiceItemViewModel.loDetail.NOTHER_TAX_AMOUNT"
                              R_ConductorGridSource="@_conductorInvoiceItemRef"
                              Arrows="false"
                              Enabled="false">
            </R_NumericTextBox>
        </R_ItemLayout>
    </R_StackLayout>

    <R_StackLayout Row>
        <R_ItemLayout col="5" Class="me-2">
            <R_Label></R_Label>
        </R_ItemLayout>
        <R_ItemLayout Style="width:150px">
            <R_Label>Add On</R_Label>
        </R_ItemLayout>
        <R_ItemLayout col="2">
            <R_NumericTextBox @bind-Value="@loInvoiceItemViewModel.loDetail.NDIST_ADD_ON"
                              R_ConductorGridSource="@_conductorInvoiceItemRef"
                              Arrows="false"
                              Enabled="false">
            </R_NumericTextBox>
        </R_ItemLayout>
        <R_ItemLayout col="1">
            <R_Label>Line Amount</R_Label>
        </R_ItemLayout>
        <R_ItemLayout col="2">
            <R_NumericTextBox @bind-Value="@loInvoiceItemViewModel.loDetail.NLINE_AMOUNT"
                              R_ConductorGridSource="@_conductorInvoiceItemRef"
                              Arrows="false"
                              Enabled="false">
            </R_NumericTextBox>
        </R_ItemLayout>
    </R_StackLayout>
</R_StackLayout>

<R_ConductorGrid @ref="@_conductorInvoiceItemRef"
                 R_ViewModel="@loInvoiceItemViewModel"
                 R_Display="Grid_InvoiceItem_R_Display"
                 R_IsHeader="true"/>