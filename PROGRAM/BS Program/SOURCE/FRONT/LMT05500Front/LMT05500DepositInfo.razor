@using LMT05500Common.DTO
@inherits R_Page
@attribute [R_Page(Title = "Deposit Info")]
@inject R_ILocalizer<Resources_LMT05500_Class> _localizer


<R_StackLayout>

    <R_StackLayout Row>
        <R_ItemLayout col="4">
            <R_StackLayout Row>
                <R_ItemLayout col="5">
                    <R_Label>@_localizer["_SeqNo"]</R_Label>
                </R_ItemLayout>
                <R_ItemLayout col="4">
                    <R_TextBox @bind-Value="@_depositViewModel.Data.CSEQ_NO"
                               R_ConductorSource="_conductDepositInfo"
                               R_EnableAdd
                               R_EnableEdit>
                    </R_TextBox>
                </R_ItemLayout>
            </R_StackLayout>
        </R_ItemLayout>
        <R_ItemLayout col="7">
            <R_StackLayout Row>
                <R_ItemLayout col="2">
                    <R_Label>@_localizer["_InvNo"]</R_Label>
                </R_ItemLayout>

                <R_ItemLayout col="5" Class="pe-1">
                    <R_TextBox @bind-Value="@_depositViewModel.Data.CINVOICE_NO"
                               R_ConductorSource="_conductDepositInfo"
                               R_EnableAdd
                               R_EnableEdit>
                    </R_TextBox>
                </R_ItemLayout>
            </R_StackLayout>
        </R_ItemLayout>
    </R_StackLayout>

    @*ROW2*@
    <R_StackLayout Row>
        <R_ItemLayout col="4">
            <R_StackLayout Row>
                <R_ItemLayout col="5">
                    <R_CheckBox @bind-Value="@_depositViewModel.Data.LCONTRACTOR"
                                R_ConductorSource="_conductDepositInfo"
                                R_EnableAdd
                                R_EnableEdit>
                    </R_CheckBox>
                    <R_Label>@_localizer["_Contractor"]</R_Label>
                </R_ItemLayout>

                <R_ItemLayout col="6">
                    <R_TextBox @bind-Value="@_depositViewModel.Data.CCONTRACTOR_ID"
                               OnLostFocus="@LostFocusLookupContractor"
                               R_ConductorSource="_conductDepositInfo"
                               R_EnableAdd
                               R_EnableEdit>
                    </R_TextBox>
                </R_ItemLayout>

                <R_ItemLayout>
                    <R_Lookup @ref="@R_Lookup_Button_Contr"
                              R_Before_Open_Lookup="@BeforeOpenLookUp_Contractor"
                              R_After_Open_Lookup="@AfterOpenLookUp_Contractor"
                              R_ConductorSource="@_conductDepositInfo"
                              R_EnableAdd="true"
                              R_EnableEdit="true">
                        ...
                    </R_Lookup>
                </R_ItemLayout>
            </R_StackLayout>
        </R_ItemLayout>
        <R_ItemLayout col="7">
            <R_StackLayout Row>
                <R_ItemLayout col="7">
                    <R_TextBox @bind-Value="@_depositViewModel.Data.CCONTRACTOR_NAME"
                               R_ConductorSource="_conductDepositInfo"
                               Enabled="false">
                    </R_TextBox>
                </R_ItemLayout>
            </R_StackLayout>
        </R_ItemLayout>
    </R_StackLayout>

    @*row3*@
    <R_StackLayout Row>
        <R_ItemLayout col="4">
            <R_StackLayout Row>
                <R_ItemLayout col="5">
                    <R_Label>@_localizer["_DepId*"]</R_Label>
                </R_ItemLayout>

                <R_ItemLayout col="6">
                    <R_TextBox @bind-Value="@_depositViewModel.Data.CDEPOSIT_ID"
                               OnLostFocus="@LostFocusLookupDeposit"
                               R_ConductorSource="_conductDepositInfo"
                               R_EnableAdd
                               R_EnableEdit>
                    </R_TextBox>
                </R_ItemLayout>

                <R_ItemLayout>
                    <R_Lookup @ref="@R_Lookup_Button_Deposit"
                              R_ConductorSource="@_conductDepositInfo"
                              R_Before_Open_Lookup="@BeforeOpenLookUp_Deposit"
                              R_After_Open_Lookup="@AfterOpenLookUp_Deposit"
                              R_EnableAdd="true"
                              R_EnableEdit="true">
                        ...
                    </R_Lookup>
                </R_ItemLayout>
            </R_StackLayout>
        </R_ItemLayout>
        <R_ItemLayout col="7">
            <R_StackLayout Row>
                <R_ItemLayout col="7">
                    <R_TextBox @bind-Value="@_depositViewModel.Data.CDEPOSIT_NAME"
                               R_ConductorSource="_conductDepositInfo"
                               Enabled="false">
                    </R_TextBox>
                </R_ItemLayout>
            </R_StackLayout>
        </R_ItemLayout>
    </R_StackLayout>

    @*row4*@
    <R_StackLayout Row>
        <R_ItemLayout col="4">
            <R_StackLayout Row>
                <R_ItemLayout col="5">
                    <R_Label>@_localizer["_DepDate*"]</R_Label>
                </R_ItemLayout>

                <R_ItemLayout col="7" Class="pe-2">
                    <R_DatePicker @bind-Value="@_depositViewModel.Data.DDEPOSIT_DATE"
                                  R_ConductorSource="_conductDepositInfo"
                                    R_EnableAdd
                                    R_EnableEdit>
                    </R_DatePicker>
                </R_ItemLayout>
            </R_StackLayout>
        </R_ItemLayout>
    </R_StackLayout>

    @*row5*@
    <R_StackLayout Row>
        <R_ItemLayout col="5">
            <R_StackLayout Row>
                <R_ItemLayout col="4">
                    <R_Label>@_localizer["_DepAmount*"]</R_Label>
                </R_ItemLayout>

                <R_ItemLayout col="2">
                    <R_TextBox @bind-Value="@_depositViewModel.Data.CLOCAL_CURRENCY"
                               Enabled="false">
                    </R_TextBox>
                </R_ItemLayout>
                <R_ItemLayout col="5">
                    <R_NumericTextBox @bind-Value="@_depositViewModel.Data.CDEPOSIT_AMT"
                                      R_ConductorSource="_conductDepositInfo"
                                            R_EnableAdd
                                            R_EnableEdit
                                      Arrows="false">
                    </R_NumericTextBox>
                    </R_ItemLayout>
                    </R_StackLayout>
                    </R_ItemLayout>
                    </R_StackLayout>

                    @*row6*@
                    <R_StackLayout Row>
        <R_ItemLayout col="5">
            <R_StackLayout Row>
                <R_ItemLayout col="4">
                </R_ItemLayout>

                <R_ItemLayout>
                    <R_Label>@_localizer["_BaseRate"]</R_Label>
                </R_ItemLayout>
            </R_StackLayout>
        </R_ItemLayout>
        <R_ItemLayout col="5" Class="ms-3">
            <R_StackLayout Row>
                <R_ItemLayout>
                    <R_Label>@_localizer["_CurrencyRate"]</R_Label>
                </R_ItemLayout>
            </R_StackLayout>
        </R_ItemLayout>
    </R_StackLayout>

    @*row7*@
    <R_StackLayout Row>
        <R_ItemLayout col="5">
            <R_StackLayout Row>
                <R_ItemLayout col="4">
                </R_ItemLayout>

                <R_ItemLayout col="2">
                    <R_TextBox @bind-Value="@_depositViewModel.Data.CLOCAL_CURRENCY"
                               Enabled="false">
                    </R_TextBox>
                </R_ItemLayout>
                <R_ItemLayout col="5">
                    <R_NumericTextBox @bind-Value="@_depositViewModel.Data.NBASE_RATE_AMOUNT"
                                      R_ConductorSource="_conductDepositInfo"
                                            R_EnableAdd
                                            R_EnableEdit
                                      Arrows="false">
                    </R_NumericTextBox>
                    </R_ItemLayout>
                    <R_ItemLayout Class="ms-3">
                    <R_Label>=</R_Label>
                    </R_ItemLayout>
                    </R_StackLayout>

                    </R_ItemLayout>
                    <R_ItemLayout col="5" Class="ms-3">
                    <R_StackLayout Row>
                <R_ItemLayout col="2">
                    <R_TextBox @bind-Value="@_depositViewModel.Data.CLOCAL_CURRENCY"
                               Enabled="false">
                    </R_TextBox>
                </R_ItemLayout>
                <R_ItemLayout col="5">
                    <R_NumericTextBox @bind-Value="@_depositViewModel.Data.NCURRENCY_RATE_AMOUNT"
                                      R_ConductorSource="_conductDepositInfo"
                                            R_EnableAdd
                                            R_EnableEdit
                                      Arrows="false">
                    </R_NumericTextBox>
                    </R_ItemLayout>
                    </R_StackLayout>
                    </R_ItemLayout>
                    </R_StackLayout>

                    @*row8*@
                    <R_StackLayout Row>
        <R_ItemLayout col="5">
            <R_StackLayout Row>
                <R_ItemLayout col="4">
                    <R_Label>@_localizer["_RemainingAmt"]</R_Label>
                </R_ItemLayout>

                <R_ItemLayout col="2">
                    <R_TextBox @bind-Value="@_depositViewModel.Data.CLOCAL_CURRENCY"
                               Enabled="false">
                    </R_TextBox>
                </R_ItemLayout>
                <R_ItemLayout col="5">
                    <R_NumericTextBox @bind-Value="@_depositViewModel.Data.NREMAINING_AMOUNT"
                                      R_ConductorSource="_conductDepositInfo"
                                            R_EnableAdd
                                            R_EnableEdit
                                      Arrows="false">
                    </R_NumericTextBox>
                    </R_ItemLayout>
                    </R_StackLayout>
                    </R_ItemLayout>
                    </R_StackLayout>

                    @*row9*@
                    <R_StackLayout Row>
        <R_ItemLayout col="4">
            <R_StackLayout Row>
                <R_ItemLayout col="5">
                    <R_Label>@_localizer["_PayStatus"]</R_Label>
                </R_ItemLayout>

                <R_ItemLayout col="7">
                    <R_CheckBox @bind-Value="@_depositViewModel.Data.LPAYMENT"
                                R_ConductorSource="_conductDepositInfo"
                                R_EnableAdd
                                R_EnableEdit>
                    </R_CheckBox>
                </R_ItemLayout>
            </R_StackLayout>
        </R_ItemLayout>
    </R_StackLayout>

    @*row10*@
    <R_StackLayout Row>
        <R_ItemLayout col="10">
            <R_StackLayout Row>
                <R_ItemLayout col="2">
                    <R_Label>@_localizer["_Desc"]</R_Label>
                </R_ItemLayout>

                <R_ItemLayout col="8" Class="pe-4">
                    <R_TextArea @bind-Value="@_depositViewModel.Data.CDESCRIPTION"
                                R_ConductorSource="_conductDepositInfo"
                                R_EnableAdd
                                R_EnableEdit>
                    </R_TextArea>
                </R_ItemLayout>
            </R_StackLayout>
        </R_ItemLayout>
    </R_StackLayout>

    @* Button CRUD *@
    <R_StackLayout Row Class="d-flex justify-content-between">
        <R_StackLayout Row>
            <R_ItemLayout>
                <R_AddButton R_Conductor="@_conductDepositInfo" Enabled="@_btnCrud" />
            </R_ItemLayout>
            <R_ItemLayout>
                <R_EditButton R_Conductor="@_conductDepositInfo" Enabled="@_btnCrud" />
            </R_ItemLayout>
            <R_ItemLayout>
                <R_DeleteButton R_Conductor="@_conductDepositInfo" Enabled="@_btnCrud" />
            </R_ItemLayout>
        </R_StackLayout>
        <R_StackLayout Row Class="d-flex justify-content-end">
            <R_StackLayout Row>
                <R_ItemLayout>
                    <R_CancelButton R_Conductor="@_conductDepositInfo" />
                </R_ItemLayout>
                <R_ItemLayout>
                    <R_SaveButton R_Conductor="@_conductDepositInfo" />
                </R_ItemLayout>
            </R_StackLayout>
        </R_StackLayout>
    </R_StackLayout>


</R_StackLayout>
<R_Conductor @ref="_conductDepositInfo"
             R_ViewModel="_depositViewModel"
              R_IsHeader
             R_ServiceGetRecord="@ServiceGetRecord"
             R_ServiceSave="@ServiceSave"
             R_ServiceDelete="@ServiceDelete"
             R_SetOther="@SetOther" />



